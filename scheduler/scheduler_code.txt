to add schedule to schedule table

from django_celery_beat.models import PeriodicTask, IntervalSchedule
schedule, created = IntervalSchedule.objects.get_or_create(
    every=3,
    period=IntervalSchedule.SECONDS,
)

PeriodicTask.objects.create(
    interval=schedule,                  # we created this above.
    name='printing test',          # simply describes this periodic task.
    task='finalProject.tasks.print_test',  # name of task.
)

once object is created 
create tasks folder in proj dir 

from celery import Celery
from celery import task 
from celery import shared_task 
# We can have either registered task 

celery = Celery('tasks',broker = 'redis://localhost') #!

import os

os.environ[ 'DJANGO_SETTINGS_MODULE' ] = "proj.settings"


@task(name='printtest') 
def printtest():
    print("testing task") 


 celery -A tasks worker --loglevel=info
 celery -A tasks beat -l info --scheduler django_celery_beat.schedulers:DatabaseScheduler



for dev env only
celery -A [project-name] worker --beat --scheduler django --loglevel=info

from tasks import printtest
eager_result = my_task.apply()